
-- Copyright (C) 2019 Todd Howard

--[==[
  _____ _______        _ _    _  _____ _______  __          ______  _____  _  __ _____
 |_   _|__   __|      | | |  | |/ ____|__   __| \ \        / / __ \|  __ \| |/ // ____|
   | |    | |         | | |  | | (___    | |     \ \  /\  / / |  | | |__) | ' /| (___
   | |    | |     _   | | |  | |\___ \   | |      \ \/  \/ /| |  | |  _  /|  <  \___ \
  _| |_   | |    | |__| | |__| |____) |  | |       \  /\  / | |__| | | \ \| . \ ____) |
 |_____|  |_|     \____/ \____/|_____/   |_|        \/  \/   \____/|_|  \_\_|\_\_____/

]==]

local text = [[
    ____
   / __ )__  ____  __
  / __  / / / / / / /
 / /_/ / /_/ / /_/ /
/_____/\__,_/\__, /
    ______  /_______            __     __________
   / ____/___ _/ / /___  __  __/ /_   /__  / ___/
  / /_  / __ `/ / / __ \/ / / / __/     / / __ \
 / __/ / /_/ / / / /_/ / /_/ / /_      / / /_/ /
/_/    \__,_/_/_/\____/\__,_/\__/     /_/\____/
  ____ _____  ____/ /
 / __ `/ __ \/ __  /
/ /_/ / / / / /_/ /
\__,_/_/ /_/\__,_/
               __
   ____ ____  / /_
  / __ `/ _ \/ __/
 / /_/ /  __/ /_
 \__, /\___/\__/
/_________      ____            __     __________
   / ____/___ _/ / /___  __  __/ /_   /__  /__  /
  / /_  / __ `/ / / __ \/ / / / __/     / /  / /
 / __/ / /_/ / / / /_/ / /_/ / /_      / /  / /
/_/ ___\__,_/_/_/\____\\\\,_/\__/     /_/__/_/
   / __/___  _____   / __/_______  ___  / /
  / /_/ __ \/ ___/  / /_/ ___/ _ \/ _ \/ /
 / __/ /_/ / /     / __/ /  /  __/  __/_/
/_/  \____/_/     /_/ /_/   \___/\___(_)
]]

hook.Add('GetFallDamage', 'dead', function(ply, speed)
	timer.Simple(0, function()
		if math.random() > 0.8 then
			for i = 1, 10 do
				local data = EffectData()
				data:SetOrigin(ply:GetPos())
				data:SetScale(1)
				data:SetNormal(Vector(0, 0, 1))
				util.Effect('Explosion', data)
			end
		end
	end)
end)

timer.Simple(0, function()
	timer.Simple(0, function()
		timer.Simple(0, function()
			for i, line in ipairs(text:split('\n')) do
				timer.Simple(i * 0.1, function()
					MsgC(line)
					MsgC('\n')
				end)
			end
		end)
	end)
end)